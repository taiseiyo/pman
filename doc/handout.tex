% Created 2022-02-06 Sun 09:35
% Intended LaTeX compiler: pdflatex
\documentclass[compress,dvipdfmx,11pt]{beamer}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{longtable}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{capt-of}
\usepackage{hyperref}
\usetheme{Ohsaki}
\author{suzuki taisei}
\date{\today}
\title{dummy}
\title[2022 年度 2 月 Debian 勉強会]{\bf Debian で始める Python Programming}
\author[]{taiseiyo}
\usepackage{amsmath}
\setlength{\parskip}{1.5ex}
\renewcommand{\textbf}{\alert}
\date{2022 年 2 月 19 日}
\hypersetup{
 pdfauthor={suzuki taisei},
 pdftitle={dummy},
 pdfkeywords={},
 pdfsubject={},
 pdfcreator={Emacs 29.0.50 (Org mode 9.5.1)}, 
 pdflang={English}}
\begin{document}

\maketitle
\newcommand{\pivec}{\mathbf \pi}
\newcommand{\xvec}{\mathbf x}
\newcommand{\yvec}{\mathbf y}
\newcommand{\zvec}{\mathbf z}
\newcommand{\Emat}{\mathbf E}
\newcommand{\Imat}{\mathbf I}

\section{概要}
\label{sec:org126cd04}
\begin{frame}[label={sec:orgbdf2805},fragile]{Python とは？}
 Python(パイソン)はオブジェクト指向のプログラミング言語であり、 \alert{手軽に
始める事ができ実用的な本格的なプログラムの開発を行う事が可能}


言語ランキング(TIOBE Software 調べ)：1位
\url{https://www.tiobe.com/tiobe-index/}


最新の安定バージョン：3.10.2



本日のソース一式
\begin{verbatim}
git clone https://github.com/taiseiyo/pman.git
# debian branch の doc 以下に資料等は置いてます
\end{verbatim}
\end{frame}

\section{Python 環境作成}
\label{sec:org421b938}
\begin{frame}[label={sec:orga69ff9c},fragile]{Python 導入：apt install を使う(Debian)}
 メリット
\begin{itemize}
\item インストールが簡単
\end{itemize}
\begin{verbatim}
sudo apt install python3 python3-pip
\end{verbatim}

デメリット
\begin{itemize}
\item バージョンが古い
\begin{itemize}
\item バージョン 3.10 以降は文法チェッカーが優秀(\url{https://www.python.org/dev/peps/pep-0626/})
\item buster(debian 10.x 系) → python 3.7
\item bullseye(debian 11.x 系) → python 3.9
\end{itemize}
\end{itemize}


\vspace{-2truemm}      
\begin{verbatim}
cat /etc/os-release or cat /etc/debian_version
\end{verbatim}
\end{frame}

\begin{frame}[label={sec:orgf651b80},fragile]{Python 導入：source からビルド}
 メリット
\begin{itemize}
\item 最新バージョンが手に入る
\item \url{https://www.python.org/downloads/}
\end{itemize}

デメリット
\begin{itemize}
\item 手間がかかる(シェルでまとめておくと便利)
\end{itemize}
\begin{verbatim}
wget https://www.python.org/ftp/python/3.10.2/Python-3.10.2.tar.xz
tar Jxfv Python-3.10.2.tar.xz
# debian なら tar より unar がオススメ
cd Python-3.10.2
./configure
sudo make # ディレクトリの python が使用可能になる
# PATH が通っている所の Python を置き変える場合
# sudo make altinstall
\end{verbatim}
\end{frame}



\section{pman command}
\label{sec:org3c093c4}
\begin{frame}[label={sec:org217790f}]{pman コマンド}
発想
\begin{itemize}
\item Debian なら man コマンドがあるが、同じ事を Python でも行いたい
\item いつでもモジュールの \alert{マニュアルが欲しい}
\end{itemize}

手法
\begin{enumerate}
\item Python 公式サイトから標準ライブラリのデータ(HTML)を取得
\item HTML から文字列を取得
\end{enumerate}
\end{frame}


\section{実践(ハンズオン)}
\label{sec:org9a061c2}
\begin{frame}[label={sec:org50b368f},fragile]{実践：必要なモジュール}
 \begin{itemize}
\item beautifulsoup4
\begin{itemize}
\item HTML ファイルや XML ファイルからデータを抽出するための Python ライブラリ
\end{itemize}
\item lxml
\begin{itemize}
\item \url{https://pypi.org/project/lxml/}
\item Python で xml や html を扱うためのライブラリ。Web サイトの html を
解析して情報を抽出するプログラムを作成する場合などに多く用いる
\end{itemize}
\end{itemize}

pman 作成の環境構築(\(/pman/prog/\) の想定)
\begin{verbatim}
python -m venv test
cd test
source bin/activate
pip install -r ../requirements.txt
# 作業終了後 deactivate
\end{verbatim}
\end{frame}

\begin{frame}[label={sec:org62f8f3b}]{実践：プログラム作成}
HTML 取得
\begin{itemize}
\item urllib.request.urlopen(url)
\end{itemize}

HTML 解析
\begin{itemize}
\item BeautifulSoup()
\begin{itemize}
\item get \_ text()
\end{itemize}
\end{itemize}

ソースコード(\alert{batcat} 使うと見やすい)
\begin{itemize}
\item 関数を使って実装:  \url{./prog/pman\_func.py}
\item クラスを使って実装: \url{./prog/pman\_class.py}
\end{itemize}
\end{frame}

\begin{frame}[label={sec:org1f90f1d}]{オマケ}
emacs との組み合わせ
\begin{itemize}
\item emacs と組み合わせる事でエディタ上で Python Manual を見る事ができる
\begin{itemize}
\item ソースコード: \url{./prog/pman.el}
\end{itemize}
\end{itemize}

結果の表示を見やすく
\begin{itemize}
\item HTML から文字列を取得しただけでは空白等が多く見にくいので Shell
Script(bash)を書いて結果を見やすく
\begin{itemize}
\item ソースコード:  \url{./prog/pman}
\end{itemize}
\end{itemize}
\end{frame}


\section{最後に}
\label{sec:orgd314976}
\begin{frame}[label={sec:org623e608}]{最後に}
ホームページ: \url{https://taiseiyo.com}


GitHub: \url{https://github.com/taiseiyo/}


Mail Address: taiseiyo11@gmail.com
\end{frame}
\end{document}